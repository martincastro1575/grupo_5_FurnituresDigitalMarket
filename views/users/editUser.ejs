<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head.ejs') %> 
<body>
    <%- include('../partials/header.ejs') %>
    <div class="main-form"> 
        <main> 
            <h2>Edición de Usuario</h2>              
            <form action ="/user/edit/<%= oneUser.id %>" method="POST" class="form-register" enctype="multipart/form-data">
                <div class="form-control">
                    <input type="hidden" value="<%= oneUser.id %>">   
                    <label for="nombreApellido">Nombre y apellido</label>
                    <input type="text" name="nombreApellido" id="nombreApellido" class="control" value="<%= oneUser.nombreApellido %>">
                    
                    <div class="text-danger">
                        <% if (locals.errors && errors.nombreApellido) { %>
                            <%= errors.nombreApellido.msg %> 
                        <% } %>
                    </div>
                </div>
                <div class="form-control">
                    <label for="userEmail">Email</label>
                    <input type="email" name="email" id="email" class="control" value="<%= oneUser.email %>">
                    <div class="text-danger">
                        <% if (locals.errors && errors.email) { %>
                            <%= errors.userEmail.msg %> 
                        <% } %>
                    </div>
                </div>
                <div class="form-control">
                    <label for="sexo">Sexo</label>
                    <select name="sexo" id="sexo" class="control" <%=  %>>
                        <option value="">Seleccione su Sexo</option>
                        <option value="M" <%= locals.oneUser && (oneUser.sexo === 'M') ? 'selected' : null %>>
                            Masculino
                        </option>
                        <option value="F" <%= locals.oneUser && (oneUser.sexo === 'F') ? 'selected' : null %>>
                            Femenino
                        </option>
                    </select>
                    <div class="text-danger">
                        <% if (locals.errors && errors.sexo) { %>
                            <%= errors.sexo.msg %> 
                        <% } %>
                    </div>
                </div>
                <div class="form-control">
                    <label for="telefono">Teléfono</label>
                    <input type="number" name="telefono" id="telefono" class="control" value="<%= oneUser.telefono %>">
                    <div class="text-danger">
                        <% if (locals.errors && errors.telefono) { %>
                            <%= errors.telefono.msg %> 
                        <% } %>
                    </div>
                </div>
                <div class="form-control">
                    <label for="fechaNac">Fecha de nacimiento</label>
                    <input type="date" name="fechaNac" id="fechaNac" class="control" value="<%= oneUser.fechaNac %>">
                    <div class="text-danger">
                        <% if (locals.errors && errors.fechaNac) { %>
                            <%= errors.fechaNac.msg %> 
                        <% } %>
                    </div>
                </div>
                
                <div class="form-control-button">
                    <button type="submit" class="button-form">Actualizar</button>
                    <button type="reset" class="button-form">Borrar</button>
                </div>
            </form>
        </main>
    </div>
    <%- include('../partials/footer.ejs') %>
</body>
</html>